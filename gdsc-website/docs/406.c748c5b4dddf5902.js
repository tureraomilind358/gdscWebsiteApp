"use strict";(self.webpackChunkgdsc_website=self.webpackChunkgdsc_website||[]).push([[406],{9406:(y,m,l)=>{l.r(m),l.d(m,{CentreModule:()=>w});var c=l(6895),d=l(433),u=l(4976),t=l(8256),_=l(8951),f=l(8602),h=l(4811),b=l(5928),C=l(8858);function Z(i,a){if(1&i&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&i){const o=a.$implicit;t.Q6J("value",o.id),t.xp6(1),t.Oqu(o.name)}}function v(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",37),t._uU(11),t.qZA()(),t.TgZ(12,"td")(13,"div",38)(14,"button",39),t.NdJ("click",function(){const r=t.CHM(o).$implicit,s=t.oxw(2);return t.KtG(s.editStudent(r))}),t._UZ(15,"i",40),t.qZA(),t.TgZ(16,"button",41),t.NdJ("click",function(){const r=t.CHM(o).$implicit,s=t.oxw(2);return t.KtG(s.deleteStudent(r))}),t._UZ(17,"i",42),t.qZA(),t.TgZ(18,"select",43),t.NdJ("change",function(n){const s=t.CHM(o).$implicit,g=t.oxw(2);return t.KtG(g.enrollStudent(s,n.target.value))}),t.TgZ(19,"option",44),t._uU(20,"Enroll in Course"),t.qZA(),t.YNc(21,Z,2,2,"option",45),t.qZA()()()()}if(2&i){const o=a.$implicit,e=t.oxw(2);t.xp6(2),t.AsE("",o.firstName," ",o.lastName,""),t.xp6(2),t.Oqu(o.email),t.xp6(2),t.Oqu(o.phone),t.xp6(2),t.AsE("S",o.id,"U",o.userId,""),t.xp6(2),t.Tol(o.status?"active":"inactive"),t.xp6(1),t.hij(" ",o.status?"Active":"Inactive"," "),t.xp6(10),t.Q6J("ngForOf",e.courses)}}function A(i,a){if(1&i&&(t.TgZ(0,"div",35)(1,"table")(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Name"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Email"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Phone"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Govt ID"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Status"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Actions"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,v,22,10,"tr",36),t.qZA()()()),2&i){const o=t.oxw();t.xp6(17),t.Q6J("ngForOf",o.students)}}function x(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"div",47),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.closeAddStudentModal())}),t.TgZ(1,"div",48),t.NdJ("click",function(n){return n.stopPropagation()}),t.TgZ(2,"div",49)(3,"h3"),t._uU(4,"Add New Student"),t.qZA(),t.TgZ(5,"button",50),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.closeAddStudentModal())}),t._UZ(6,"i",51),t.qZA()(),t.TgZ(7,"div",52)(8,"form",53),t.NdJ("ngSubmit",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.addStudent())}),t.TgZ(9,"div",54)(10,"div",55),t._UZ(11,"input",56),t.qZA(),t.TgZ(12,"div",55),t._UZ(13,"input",57),t.qZA(),t.TgZ(14,"div",55),t._UZ(15,"input",58),t.qZA(),t.TgZ(16,"div",55),t._UZ(17,"input",59),t.qZA(),t.TgZ(18,"div",55),t._UZ(19,"input",60),t.qZA(),t.TgZ(20,"div",55),t._UZ(21,"input",61),t.qZA(),t.TgZ(22,"div",55),t._UZ(23,"input",62),t.qZA(),t.TgZ(24,"div",55),t._UZ(25,"input",63),t.qZA(),t.TgZ(26,"div",55),t._UZ(27,"input",64),t.qZA(),t.TgZ(28,"div",55),t._UZ(29,"input",65),t.qZA(),t.TgZ(30,"div",55),t._UZ(31,"input",66),t.qZA(),t.TgZ(32,"div",55),t._UZ(33,"input",67),t.qZA(),t.TgZ(34,"div",55)(35,"label",68),t._uU(36,"Date of Birth *"),t.qZA(),t._UZ(37,"input",69),t.qZA(),t.TgZ(38,"div",55)(39,"label",70),t._uU(40,"Gender *"),t.qZA(),t.TgZ(41,"select",71)(42,"option",44),t._uU(43,"Select Gender"),t.qZA(),t.TgZ(44,"option",72),t._uU(45,"Male"),t.qZA(),t.TgZ(46,"option",73),t._uU(47,"Female"),t.qZA(),t.TgZ(48,"option",74),t._uU(49,"Other"),t.qZA()()(),t.TgZ(50,"div",55)(51,"label",75),t._uU(52,"Enrollment Date *"),t.qZA(),t._UZ(53,"input",76),t.qZA(),t.TgZ(54,"div",55)(55,"label",77),t._uU(56,"Status *"),t.qZA(),t.TgZ(57,"select",78)(58,"option",79),t._uU(59,"Active"),t.qZA(),t.TgZ(60,"option",80),t._uU(61,"Inactive"),t.qZA(),t.TgZ(62,"option",81),t._uU(63,"Pending"),t.qZA()()(),t.TgZ(64,"div",55)(65,"label"),t._uU(66,"Roles"),t.qZA(),t.TgZ(67,"select",82)(68,"option",83),t._uU(69,"Student"),t.qZA(),t.TgZ(70,"option",84),t._uU(71,"Teacher"),t.qZA()()()(),t.TgZ(72,"div",85)(73,"button",86),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.closeAddStudentModal())}),t._uU(74,"Cancel"),t.qZA(),t.TgZ(75,"button",87),t._uU(76,"Add Student"),t.qZA()()()()()()}if(2&i){const o=t.oxw();t.xp6(8),t.Q6J("formGroup",o.newStudent),t.xp6(67),t.Q6J("disabled",o.newStudent.invalid)}}function T(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Oqu(o.selectedFile.name)}}function M(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"div",47),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.closeBulkImportModal())}),t.TgZ(1,"div",48),t.NdJ("click",function(n){return n.stopPropagation()}),t.TgZ(2,"div",49)(3,"h3"),t._uU(4,"Bulk Import Students"),t.qZA(),t.TgZ(5,"button",50),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.closeBulkImportModal())}),t._UZ(6,"i",51),t.qZA()(),t.TgZ(7,"div",52)(8,"div",88)(9,"p"),t._uU(10,"Upload a CSV or Excel file with student data. Required columns: Full Name, Email, Phone, DOB, Govt ID"),t.qZA(),t.TgZ(11,"div",89)(12,"input",90),t.NdJ("change",function(n){t.CHM(o);const r=t.oxw();return t.KtG(r.onFileSelected(n))}),t.qZA(),t.TgZ(13,"label",91),t._UZ(14,"i",92),t._uU(15," Choose File "),t.qZA(),t.YNc(16,T,2,1,"span",93),t.qZA(),t.TgZ(17,"div",94)(18,"button",86),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.closeBulkImportModal())}),t._uU(19,"Cancel"),t.qZA(),t.TgZ(20,"button",95),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.uploadBulkStudents())}),t._uU(21," Upload Students "),t.qZA()()()()()()}if(2&i){const o=t.oxw();t.xp6(16),t.Q6J("ngIf",o.selectedFile),t.xp6(4),t.Q6J("disabled",!o.selectedFile)}}function S(i,a){1&i&&(t.TgZ(0,"div",96),t._UZ(1,"i",97),t.TgZ(2,"p"),t._uU(3,"Loading..."),t.qZA()())}let p=(()=>{const a=class{constructor(e,n,r,s,g,U,k){this.authService=e,this.studentService=n,this.courseService=r,this.centreService=s,this.userService=g,this.router=U,this.fb=k,this.currentUser=this.authService.currentUserValue,this.centreId=this.authService.getCurrentCentreId(),this.students=[],this.courses=[],this.recentStudents=[],this.studentList=[],this.stats={totalStudents:0,activeEnrolments:0,completedCertifications:0,pendingExams:0},this.loading={students:!0,courses:!0,stats:!0},this.showAddStudentModal=!1,this.showBulkImportModal=!1,this.selectedFile=null,this.newStudent=this.fb.group({id:[0],username:["",d.kI.required],email:["",[d.kI.required,d.kI.email]],firstName:[""],lastName:[""],phone:[""],isEnabled:[!0],password:[""],isAccountNonExpired:[!0],isAccountNonLocked:[!0],isCredentialsNonExpired:[!0],roles:[],centerId:Number(this.centreId),dateOfBirth:[""],gender:[""],address:[""],city:[""],state:[""],zipCode:[""],enrollmentDate:[""],status:[],userId:[]})}ngOnInit(){if(this.authService.isCentreAdmin())return this.newStudent.value.centerId=this.centreId,this.userService.getUserByCenterId(this.centreId).subscribe({next:e=>{this.studentList=e.data,console.log("User ID:",this.studentList)},error:e=>{console.error("Error loading user:",e)}}),this.centreId?void this.loadDashboardData():(console.error("Centre ID not found for centre admin"),void this.router.navigate(["/unauthorized"]));this.router.navigate(["/unauthorized"])}loadDashboardData(){this.loadStudents(),this.loadCourses(),this.loadStatistics()}loadStudents(){this.loading.students=!0,console.log("Loading students for centre:",this.centreId),this.studentService.getStudentsByCentre(this.centreId).subscribe({next:e=>{e&&e.data?(this.students=e.data,this.stats.totalStudents=this.students.length,this.stats.activeEnrolments=this.students.length,this.stats.completedCertifications=this.students.length):this.students=Array.isArray(e)?e:[],this.recentStudents=this.students.slice(0,5),this.loading.students=!1},error:e=>{console.error("Error loading students:",e),this.students=[{id:"1",firstName:"John",lastName:"Doe",email:"john.doe@example.com",phone:"1234567890",govtId:"ID123456",dob:new Date("1990-01-01"),centreId:this.centreId||"",createdAt:new Date,isActive:!0},{id:"2",firstName:"Jane",lastName:"Smith",email:"jane.smith@example.com",phone:"0987654321",govtId:"ID789012",dob:new Date("1992-05-15"),centreId:this.centreId||"",createdAt:new Date,isActive:!0}],console.log("Using mock data for testing:",this.students),this.loading.students=!1}})}loadCourses(){this.loading.courses=!0,this.courseService.getAllCourses().subscribe({next:e=>{console.log("courses ",e.data),this.courses=e.data.filter(n=>n.isPublished),this.loading.courses=!1},error:e=>{console.error("Error loading courses:",e),this.loading.courses=!1}})}loadStatistics(){this.loading.stats=!0,this.loading.stats=!1}openAddStudentModal(){console.log("openAddStudentModal called"),this.showAddStudentModal=!0,console.log("showAddStudentModal set to:",this.showAddStudentModal),this.resetNewStudentForm(),setTimeout(()=>{console.log("Modal should be visible now")},100)}closeAddStudentModal(){this.showAddStudentModal=!1,this.resetNewStudentForm()}resetNewStudentForm(){this.newStudent.reset()}addStudent(){if(!this.centreId)return;console.log("Adding student:",this.newStudent);const e={username:this.newStudent.value.username,email:this.newStudent.value.email,firstName:this.newStudent.value.firstName,lastName:this.newStudent.value.lastName,phone:this.newStudent.value.phone,isEnabled:this.newStudent.value.isEnabled,password:this.newStudent.value.password,isAccountNonExpired:this.newStudent.value.isAccountNonExpired,isAccountNonLocked:this.newStudent.value.isAccountNonLocked,isCredentialsNonExpired:this.newStudent.value.isCredentialsNonExpired,roles:this.newStudent.value.roles,centerId:Number(this.centreId)};this.userService.registerUser(e).subscribe({next:n=>{console.log("User registered successfully:",n);const r={firstName:this.newStudent.value.firstName,lastName:this.newStudent.value.lastName,email:this.newStudent.value.email,phone:this.newStudent.value.phone,dateOfBirth:this.newStudent.value.dateOfBirth,gender:this.newStudent.value.gender,address:this.newStudent.value.address,city:this.newStudent.value.city,state:this.newStudent.value.state,zipCode:this.newStudent.value.zipCode,enrollmentDate:this.newStudent.value.enrollmentDate,status:this.newStudent.value.status,centerId:Number(this.centreId),userId:n.data.id};this.studentService.registerStudent(r).subscribe({next:s=>{console.log("Student registered successfully:",s),this.loadStudents(),this.loadStatistics(),this.closeAddStudentModal(),alert("Student added successfully!")},error:s=>{console.error("Error registering student:",s),alert("Error registering student. Please try again.")}})},error:n=>{console.error("Error registering user:",n),alert("Error registering user. Please try again.")}})}openBulkImportModal(){this.showBulkImportModal=!0}closeBulkImportModal(){this.showBulkImportModal=!1,this.selectedFile=null}onFileSelected(e){const n=e.target.files[0];!n||"text/csv"!==n.type&&"application/vnd.ms-excel"!==n.type?alert("Please select a valid CSV or Excel file."):this.selectedFile=n}uploadBulkStudents(){!this.selectedFile||!this.centreId||this.studentService.bulkImportStudents(this.centreId,this.selectedFile).subscribe({next:e=>{alert(`Import completed! ${e.successCount} students added, ${e.failureCount} failed.`),this.loadStudents(),this.closeBulkImportModal()},error:e=>{console.error("Error importing students:",e),alert("Error importing students. Please try again.")}})}editStudent(e){this.openAddStudentModal(),this.studentService.getStudentById(e.id).subscribe({next:n=>{console.log(n.data),this.newStudent.patchValue(n.data)}})}deleteStudent(e){confirm(`Are you sure you want to delete ${e.id}?`)&&this.studentService.deleteStudent(e.id).subscribe({next:()=>{this.students=this.students.filter(n=>n.id!==e.id),this.loadStatistics(),alert("Student deleted successfully!")},error:n=>{console.error("Error deleting student:",n),alert("Error deleting student. Please try again.")}})}enrollStudent(e,n){this.studentService.enrollStudent(e.firstName,n).subscribe({next:()=>{alert(`${e.firstName} enrolled successfully!`),this.loadStatistics()},error:r=>{console.error("Error enrolling student:",r),alert("Error enrolling student. Please try again.")}})}navigateToSection(e){this.router.navigate(["/centre-admin",e])}logout(){this.authService.logout(),this.router.navigate(["/login"])}};let i=a;return a.\u0275fac=function(n){return new(n||a)(t.Y36(_.e8),t.Y36(f.V),t.Y36(h.N),t.Y36(b.H),t.Y36(C.K),t.Y36(u.F0),t.Y36(d.qu))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-centre-admin-dashboard"]],decls:112,vars:10,consts:[[1,"centre-admin-dashboard"],[1,"dashboard-header"],[1,"header-content"],[1,"welcome-section"],[1,"header-actions"],[1,"btn","btn-outline",3,"click"],[1,"fas","fa-sync-alt"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","students"],[1,"fas","fa-users"],[1,"stat-content"],[1,"stat-icon","enrolments"],[1,"fas","fa-user-graduate"],[1,"stat-icon","certificates"],[1,"fas","fa-certificate"],[1,"stat-icon","exams"],[1,"fas","fa-clipboard-list"],[1,"management-section"],[1,"section-header"],[1,"section-actions"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-upload"],["class","students-table",4,"ngIf","ngIfElse"],[1,"quick-actions"],[1,"actions-grid"],[1,"action-card",3,"click"],[1,"fas","fa-chart-line"],[1,"fas","fa-chart-bar"],["class","modal-overlay","style","display: flex !important;",3,"click",4,"ngIf"],["loadingTemplate",""],[1,"students-table"],[4,"ngFor","ngForOf"],[1,"status"],[1,"action-buttons"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","danger",3,"click"],[1,"fas","fa-trash"],[1,"enroll-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"modal-overlay",2,"display","flex !important",3,"click"],[1,"modal",2,"display","block !important",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-4","my-2"],["type","number","id","id","placeholder","ID","formControlName","id","readonly","",1,"form-control"],["type","text","id","username","placeholder","Username","formControlName","username",1,"form-control"],["type","text","id","firstName","placeholder","First Name","formControlName","firstName",1,"form-control"],["type","text","id","lastName","placeholder","Last Name","formControlName","lastName",1,"form-control"],["type","email","id","email","placeholder","Email","formControlName","email",1,"form-control"],["type","tel","id","phone","placeholder","Phone","formControlName","phone",1,"form-control"],["type","password","id","password","placeholder","Password","formControlName","password",1,"form-control"],["type","text","id","centerId","placeholder","Center ID","formControlName","centerId","readonly","",1,"form-control"],["type","text","id","address","placeholder","Address","formControlName","address",1,"form-control"],["type","text","id","city","placeholder","City","formControlName","city",1,"form-control"],["type","text","id","state","placeholder","State","formControlName","state",1,"form-control"],["type","text","id","zipCode","placeholder","Zip Code","formControlName","zipCode",1,"form-control"],["for","dateOfBirth"],["type","date","id","dateOfBirth","formControlName","dateOfBirth",1,"form-control"],["for","gender"],["id","gender","formControlName","gender",1,"form-control"],["value","MALE"],["value","FEMALE"],["value","OTHER"],["for","enrollmentDate"],["type","date","id","enrollmentDate","formControlName","enrollmentDate",1,"form-control"],["for","status"],["id","status","formControlName","status",1,"form-control"],["value","ACTIVE"],["value","INACTIVE"],["value","PENDING"],["formControlName","roles",1,"form-control"],["value","STUDENT"],["value","TEACHER"],[1,"modal-actions","mt-3"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"upload-section"],[1,"file-upload"],["type","file","id","fileInput","accept",".csv,.xlsx,.xls",3,"change"],["for","fileInput",1,"file-upload-label"],[1,"fas","fa-cloud-upload-alt"],[4,"ngIf"],[1,"modal-actions"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5,"Center Admin Dashboard"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()(),t.TgZ(8,"div",4)(9,"button",5),t.NdJ("click",function(){return r.loadDashboardData()}),t._UZ(10,"i",6),t._uU(11," Refresh "),t.qZA(),t.TgZ(12,"button",7),t.NdJ("click",function(){return r.logout()}),t._UZ(13,"i",8),t._uU(14," Logout "),t.qZA()()()(),t.TgZ(15,"div",9)(16,"div",10)(17,"div",11),t._UZ(18,"i",12),t.qZA(),t.TgZ(19,"div",13)(20,"h3"),t._uU(21),t.qZA(),t.TgZ(22,"p"),t._uU(23,"Total Students"),t.qZA(),t.TgZ(24,"small"),t._uU(25,"Registered in your centre"),t.qZA()()(),t.TgZ(26,"div",10)(27,"div",14),t._UZ(28,"i",15),t.qZA(),t.TgZ(29,"div",13)(30,"h3"),t._uU(31),t.qZA(),t.TgZ(32,"p"),t._uU(33,"Active Enrolments"),t.qZA(),t.TgZ(34,"small"),t._uU(35,"Students enrolled in courses"),t.qZA()()(),t.TgZ(36,"div",10)(37,"div",16),t._UZ(38,"i",17),t.qZA(),t.TgZ(39,"div",13)(40,"h3"),t._uU(41),t.qZA(),t.TgZ(42,"p"),t._uU(43,"Certifications"),t.qZA(),t.TgZ(44,"small"),t._uU(45,"Completed by your students"),t.qZA()()(),t.TgZ(46,"div",10)(47,"div",18),t._UZ(48,"i",19),t.qZA(),t.TgZ(49,"div",13)(50,"h3"),t._uU(51),t.qZA(),t.TgZ(52,"p"),t._uU(53,"Pending Exams"),t.qZA(),t.TgZ(54,"small"),t._uU(55,"Students ready to take exams"),t.qZA()()()(),t.TgZ(56,"div",20)(57,"div",21)(58,"h2"),t._uU(59,"Student Management"),t.qZA(),t.TgZ(60,"div",22)(61,"button",23),t.NdJ("click",function(){return r.openAddStudentModal()}),t._UZ(62,"i",24),t._uU(63," Add Student "),t.qZA(),t.TgZ(64,"button",25),t.NdJ("click",function(){return r.openBulkImportModal()}),t._UZ(65,"i",26),t._uU(66," Bulk Import "),t.qZA()()(),t.YNc(67,A,18,1,"div",27),t.qZA(),t.TgZ(68,"div",28)(69,"h2"),t._uU(70,"Quick Actions"),t.qZA(),t.TgZ(71,"div",29)(72,"button",30),t.NdJ("click",function(){return r.navigateToSection("students")}),t._UZ(73,"i",12),t.TgZ(74,"span"),t._uU(75,"All Students"),t.qZA(),t.TgZ(76,"small"),t._uU(77,"View and manage all students"),t.qZA()(),t.TgZ(78,"button",30),t.NdJ("click",function(){return r.navigateToSection("enrolments")}),t._UZ(79,"i",15),t.TgZ(80,"span"),t._uU(81,"Enrolments"),t.qZA(),t.TgZ(82,"small"),t._uU(83,"Manage course enrolments"),t.qZA()(),t.TgZ(84,"button",30),t.NdJ("click",function(){return r.navigateToSection("exams")}),t._UZ(85,"i",19),t.TgZ(86,"span"),t._uU(87,"Exam Schedule"),t.qZA(),t.TgZ(88,"small"),t._uU(89,"Schedule and monitor exams"),t.qZA()(),t.TgZ(90,"button",30),t.NdJ("click",function(){return r.navigateToSection("results")}),t._UZ(91,"i",31),t.TgZ(92,"span"),t._uU(93,"Results"),t.qZA(),t.TgZ(94,"small"),t._uU(95,"View exam results and analytics"),t.qZA()(),t.TgZ(96,"button",30),t.NdJ("click",function(){return r.navigateToSection("certificates")}),t._UZ(97,"i",17),t.TgZ(98,"span"),t._uU(99,"Certificates"),t.qZA(),t.TgZ(100,"small"),t._uU(101,"View issued certificates"),t.qZA()(),t.TgZ(102,"button",30),t.NdJ("click",function(){return r.navigateToSection("reports")}),t._UZ(103,"i",32),t.TgZ(104,"span"),t._uU(105,"Reports"),t.qZA(),t.TgZ(106,"small"),t._uU(107,"Centre performance reports"),t.qZA()()()()(),t.YNc(108,x,77,2,"div",33),t.YNc(109,M,22,2,"div",33),t.YNc(110,S,4,0,"ng-template",null,34,t.W1O)),2&n){const s=t.MAs(111);t.xp6(7),t.AsE("Welcome, ",null==r.currentUser?null:r.currentUser.firstName," - ",null==r.currentUser?null:r.currentUser.centreName,""),t.xp6(14),t.Oqu(r.stats.totalStudents),t.xp6(10),t.Oqu(r.stats.activeEnrolments),t.xp6(10),t.Oqu(r.stats.completedCertifications),t.xp6(10),t.Oqu(r.stats.pendingExams),t.xp6(16),t.Q6J("ngIf",!r.loading.students)("ngIfElse",s),t.xp6(41),t.Q6J("ngIf",r.showAddStudentModal),t.xp6(1),t.Q6J("ngIf",r.showBulkImportModal)}},dependencies:[c.sg,c.O5,d._Y,d.YN,d.Kr,d.Fj,d.wV,d.EJ,d.JJ,d.JL,d.sg,d.u],styles:[".centre-admin-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:#f8f9fa;padding:0}.dashboard-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745 0%,#20c997 100%);color:#fff;padding:2rem 0;margin-bottom:2rem}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;justify-content:space-between;align-items:center}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0 0 .5rem}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:.5rem;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.btn-outline[_ngcontent-%COMP%]{background:transparent;border:2px solid rgba(255,255,255,.3);color:#fff}.btn-outline[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1);border-color:#ffffff80}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;color:#007bff;cursor:pointer;padding:.5rem;border-radius:4px;transition:all .3s ease}.btn-icon[_ngcontent-%COMP%]:hover{background:#f8f9fa}.btn-icon.danger[_ngcontent-%COMP%]{color:#dc3545}.stats-grid[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 3rem;padding:0 2rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.stat-card[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:1.5rem;box-shadow:0 4px 6px #0000000d;display:flex;align-items:center;gap:1rem;transition:transform .3s ease,box-shadow .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 15px #0000001a}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff}.stat-icon.students[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997)}.stat-icon.enrolments[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#6610f2)}.stat-icon.certificates[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#fd7e14)}.stat-icon.exams[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#e83e8c)}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0 0 .25rem;color:#2c3e50}.stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin:0 0 .25rem;color:#34495e}.stat-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.85rem;color:#7f8c8d}.management-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 3rem;padding:0 2rem}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;margin:0}.section-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.students-table[_ngcontent-%COMP%]{background:white;border-radius:12px;overflow:hidden;box-shadow:0 4px 6px #0000000d}.students-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.students-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .students-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #ecf0f1}.students-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#2c3e50}.students-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.enroll-select[_ngcontent-%COMP%]{padding:.25rem .5rem;border:1px solid #ddd;border-radius:4px;font-size:.85rem}.status[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600;text-transform:uppercase}.status.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.quick-actions[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 3rem;padding:0 2rem}.quick-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:1.5rem;color:#2c3e50}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.action-card[_ngcontent-%COMP%]{background:white;border:none;border-radius:12px;padding:1.5rem;text-align:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000000d}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001a}.action-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#28a745;margin-bottom:1rem}.action-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:1.1rem;font-weight:600;color:#2c3e50;margin-bottom:.5rem}.action-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#7f8c8d;font-size:.85rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:99999}.modal[_ngcontent-%COMP%]{background:white;position:absolute;border-radius:12px;width:90%;max-width:850px;max-height:95%;overflow-y:auto;box-shadow:0 20px 40px #0000001a;top:10px;left:20%}.modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #ecf0f1;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#7f8c8d;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.5rem}.upload-section[_ngcontent-%COMP%]{text-align:center}.file-upload[_ngcontent-%COMP%]{margin:1.5rem 0}.file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.file-upload-label[_ngcontent-%COMP%]{display:inline-block;padding:1rem 2rem;background:#007bff;color:#fff;border-radius:8px;cursor:pointer;transition:background .3s ease}.file-upload-label[_ngcontent-%COMP%]:hover{background:#0056b3}.file-upload-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#7f8c8d}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.section-actions[_ngcontent-%COMP%]{justify-content:center}.stats-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.students-table[_ngcontent-%COMP%]{overflow-x:auto}.modal[_ngcontent-%COMP%]{width:95%;margin:1rem}}"]}),i})();const O=[{path:"",component:p},{path:"dashboard",component:p}];let P=(()=>{const a=class{};let i=a;return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.Bz.forChild(O),u.Bz]}),i})(),w=(()=>{const a=class{};let i=a;return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[c.ez,d.u5,d.UX,P]}),i})()}}]);